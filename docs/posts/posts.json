[
  {
    "path": "posts/2021-03-11-cheese-pca/",
    "title": "Cheeses: how similar are they depending on their country of origin",
    "description": "Principal component analysis (PCA) on the nutrition data for 45 types of cheeses from 10 countries.",
    "author": [
      {
        "name": "Carmen Galaz-García",
        "url": {}
      }
    ],
    "date": "2021-01-25",
    "categories": [],
    "contents": "\nIntroduction\nIn this report we perform a principal component analysis (PCA) on the nutrition data for 45 types of cheeses and examine whether cheeses with the same country of origin form data clusters. The variables used in the analysis are energy (kcal), protein (g), fat (g), carbohydrate (g) and sugar (g) present in \\(x\\) grams of cheese. We assume the quantity \\(x\\) is the same for al cheeses, thought its value was unfortunately not found. We chose the variables according to what is usually most visible in the “Nutrition Facts” label in food products. A PCA analysis is appropriate given the sample size (greater than 10) and since all the indicated variables are continuous. We work under the assumption that variables are linearly related.\nThe data comes from the Food nutrient information for raw fruits and veggies from USDA database of the FoodData Central in the U.S. Department of Agriculture. https://fdc.nal.usda.gov/index.html\nAll analyses are in R version 4.0.2 using RStudio Version 1.3.1093.\nData wrangling\n\nhide\n# ---- DATA READING ----\nfood <- read.csv(here(\"Task2_PCA\",\"usda_nutrients.csv\")) %>% \n  clean_names() %>%      \n  drop_na()              # remove NA values\n\n# ----- DATA SELECTION -----\ncheeses <- food %>% \n  filter(str_detect(short_descrip, \"CHEESE,\"),   # select cheeses\n         str_detect(food_group, \"Dairy\") ) %>% \n  select(!(id:short_descrip) & !(common_name:scientific_name)) %>%   # select variables used in analysis\n  select(descrip:sugar_g) %>% \n  mutate(descrip = str_sub(descrip, start=9)) %>% # remove \"cheese\" from description\n  separate(descrip,                               # separate cheese name from characteristics\n           into=c(\"name\", \"type\"), \n           sep=\",\", \n           extra=\"merge\") %>%\n  filter(!str_detect(name,\"fat|pasteurized|sodium\")) %>%     # remove \"altered\" cheeses\n  filter(!str_detect(type,\"fat|pasteurized|sodium|with|low|imitation\") | is.na(type)) %>% \n  mutate(origin = case_when(                      # label each cheese by country of origin\n    name == \"mexican\" ~ \"mex\",\n    str_detect(type,\"queso\")~ \"mex\",\n    str_detect(name,\"cheddar|cottage|monterey|muenster|brick|caraway|colby\") ~ \"us\",\n    str_detect(name,\"fontina|parmesan|mozzarella|provolone|ricotta|romano\") ~ \"it\",\n    str_detect(name,\"camembert|brie|roquefort|port de salut|blue\")~ \"fr\",\n    str_detect(name,\"gruyere|neufchatel|swiss|tilsit\") ~ \"sw\",\n    str_detect(name,\"gouda|edam|limburger\") ~ \"nth\"\n  )) %>% \n  relocate(origin)    # group categorical variables at beginning\n\n\n\nPrincipal Component Analysis and Biplot\n\nhide\n# ---- PRINCIPAL COMPONENT ANALYSIS ----\ncheeses_PCA <- cheeses %>% \n  select(4:8) %>%    # select numerical variables\n  scale() %>% \n  prcomp\n\n# ----- BIPLOT -----\ncheese_biplot <- autoplot(cheeses_PCA,   # automatically recognizes PCA and does biplot\n         data= cheeses,\n         colour = 'origin',\n         #shape=FALSE,      # takes out points and shows individual labels\n         #label.size = 4,\n         loadings = TRUE,\n         loadings.label=TRUE)  +\n  theme_minimal()  +\n  labs(colour=\"Country of origin\") +  # add labels\n  scale_color_hue(labels= c(\"France\", \"Italy\", \"Mexico\",\"Netherlands\",\"Switzerland\",\"USA\", \"Other\"))\n\ncheese_biplot\n\n\n\nFigure 1. PCA biplot showing the relationships between energy (kcal), protein (g), fat (g), carbohydrate (g) and sugar (g) present in \\(x\\) grams of cheese. Each dot represents a different type of cheese. The color of a dote indicates the country of origin of the cheese.\nExploratory Findings\nThe PCA for our cheeses data set reveals that 71.32% of the variability is explained by the first two principal components. The biplot in figure 1 shows there is a similar and large variance with respect to PC1 and PC2 across energy, fat and protein content, while sugar content has a small variance. Figure 1 also shows the following major relations between the variables:\nSugar and protein present in cheese are negatively correlated.\nCarbohydrates seem to be quite unrelated to all other variables.\nEnergy and fat are positively correlated.\nAs for data clusters with respect to the cheese’s country of origin the biplot shows that:\nCheeses from the US form the tightest cluster, with cottage cheese as an outlier on the far right. Mexican cheeses also form a small cluster with small coefficients on both PC1 and PC2.\nItalian cheeses are quite spread out along PC1, with shredded parmesan on the far left and ricotta on the far right.\nGjetost cheese (a kind of Norwegian cheese) on the top seems like the biggest outlier.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-03-11T14:16:14-08:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-01-18-welcome/",
    "title": "welcome",
    "description": "This is my first blog post :)",
    "author": [
      {
        "name": "Carmen Galaz-García",
        "url": {}
      }
    ],
    "date": "2021-01-18",
    "categories": [],
    "contents": "\nOla ke ase !!!!\n\n\n\n",
    "preview": {},
    "last_modified": "2021-03-11T13:31:56-08:00",
    "input_file": {}
  }
]
